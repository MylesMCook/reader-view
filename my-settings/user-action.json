[
  {
    "code": "(function(){ var existing = document.getElementById('lindy-toc'); if (existing) return; var root = document.getElementById('readability-page-1'); if (!root) root = document.querySelector('.page'); if (!root) return; var win = document.defaultView; if (!win) return; var meta = document.createElement('div'); meta.className = 'lindy-meta'; var titleEl = document.getElementById('reader-title'); if (titleEl) { var mt = document.createElement('div'); mt.className = 'lindy-meta-title'; mt.textContent = titleEl.textContent.trim(); meta.appendChild(mt); } var parts = []; var cred = document.getElementById('reader-credits'); if (cred && cred.textContent.trim()) parts.push(cred.textContent.trim()); var est = document.getElementById('reader-estimated-time'); if (est && est.textContent.trim()) parts.push(est.textContent.trim()); var pub = document.getElementById('published-time'); if (pub && pub.textContent.trim()) parts.push(pub.textContent.trim()); if (parts.length > 0) { var mi = document.createElement('div'); mi.className = 'lindy-meta-info'; mi.textContent = parts.join(' \\u00b7 '); meta.appendChild(mi); } var headings = root.querySelectorAll('h2, h3, h4'); if (headings.length === 0 && titleEl) headings = [titleEl]; var details = document.createElement('details'); details.id = 'lindy-toc'; details.setAttribute('open', ''); var summary = document.createElement('summary'); summary.textContent = 'Outline'; details.appendChild(summary); details.appendChild(meta); var links, headingMap = {}, lastLink; if (headings.length > 0) { var nav = document.createElement('nav'); var ol = document.createElement('ol'); for (var i = 0; i < headings.length; i++) { var h = headings[i]; if (!h.id) h.id = 'lindy-heading-' + i; var li = document.createElement('li'); li.setAttribute('data-level', h.tagName.charAt(1)); var a = document.createElement('a'); a.setAttribute('href', '#' + h.id); a.textContent = h.textContent.trim(); li.appendChild(a); ol.appendChild(li); } nav.appendChild(ol); details.appendChild(nav); } var pw = document.createElement('div'); pw.className = 'lindy-progress'; var track = document.createElement('div'); track.className = 'lindy-progress-track'; var pb = document.createElement('div'); pb.className = 'lindy-progress-bar'; track.appendChild(pb); pw.appendChild(track); var pt = document.createElement('span'); pt.className = 'lindy-progress-text'; pt.textContent = '0%'; pw.appendChild(pt); details.appendChild(pw); root.insertBefore(details, root.firstChild); details.addEventListener('click', function(e) { var a = e.target; if (a.tagName === 'A' && a.getAttribute('href') && a.getAttribute('href').charAt(0) === '#') { e.preventDefault(); var target = document.getElementById(a.getAttribute('href').slice(1)); if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' }); } }); if (headings.length > 0) { links = details.querySelectorAll('nav a'); for (var k = 0; k < headings.length; k++) headingMap[headings[k].id] = links[k]; lastLink = links[links.length - 1]; if (win.IntersectionObserver) { var observer = new win.IntersectionObserver(function(entries) { for (var ei = 0; ei < entries.length; ei++) { if (entries[ei].isIntersecting) { for (var m = 0; m < links.length; m++) links[m].classList.remove('lindy-toc-active'); var link = headingMap[entries[ei].target.id]; if (link) link.classList.add('lindy-toc-active'); } } }, { rootMargin: '0px 0px -80% 0px' }); for (var n = 0; n < headings.length; n++) observer.observe(headings[n]); } } var scrollEl = win.document.scrollingElement || win.document.documentElement; win.addEventListener('scroll', function() { var st = scrollEl.scrollTop; var sh = scrollEl.scrollHeight - win.innerHeight; var pct = sh > 0 ? Math.round((st / sh) * 100) : 100; if (pct > 100) pct = 100; if (pct < 0) pct = 0; pb.style.width = pct + '%'; pt.textContent = pct + '%'; if (links && lastLink) { var atBottom = st + win.innerHeight >= scrollEl.scrollHeight - 50; if (atBottom) { for (var m = 0; m < links.length; m++) links[m].classList.remove('lindy-toc-active'); lastLink.classList.add('lindy-toc-active'); } } }, { passive: true }); })();",
    "icon": "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 1200' fill='currentColor'%3E%3Cpath d='m900 264h-408c-17.148 0-32.996 9.1484-41.57 24-8.5742 14.852-8.5742 33.148 0 48 8.5742 14.852 24.422 24 41.57 24h408c17.148 0 32.996-9.1484 41.57-24 8.5742-14.852 8.5742-33.148 0-48-8.5742-14.852-24.422-24-41.57-24z'/%3E%3Cpath d='m900 456h-288c-17.148 0-32.996 9.1484-41.57 24-8.5742 14.852-8.5742 33.148 0 48 8.5742 14.852 24.422 24 41.57 24h288c17.148 0 32.996-9.1484 41.57-24 8.5742-14.852 8.5742-33.148 0-48-8.5742-14.852-24.422-24-41.57-24z'/%3E%3Cpath d='m468 504c0 26.508-21.492 48-48 48s-48-21.492-48-48 21.492-48 48-48 48 21.492 48 48z'/%3E%3Cpath d='m348 312c0 26.508-21.492 48-48 48s-48-21.492-48-48 21.492-48 48-48 48 21.492 48 48z'/%3E%3Cpath d='m900 648h-168c-17.148 0-32.996 9.1484-41.57 24-8.5742 14.852-8.5742 33.148 0 48 8.5742 14.852 24.422 24 41.57 24h168c17.148 0 32.996-9.1484 41.57-24 8.5742-14.852 8.5742-33.148 0-48-8.5742-14.852-24.422-24-41.57-24z'/%3E%3Cpath d='m588 696c0 26.508-21.492 48-48 48s-48-21.492-48-48 21.492-48 48-48 48 21.492 48 48z'/%3E%3Cpath d='m948 888c0-12.73-5.0586-24.938-14.059-33.941-9.0039-9-21.211-14.059-33.941-14.059h-408c-17.148 0-32.996 9.1484-41.57 24-8.5742 14.852-8.5742 33.148 0 48 8.5742 14.852 24.422 24 41.57 24h408c12.73 0 24.938-5.0586 33.941-14.059 9-9.0039 14.059-21.211 14.059-33.941z'/%3E%3Cpath d='m348 888c0 26.508-21.492 48-48 48s-48-21.492-48-48 21.492-48 48-48 48 21.492 48 48z'/%3E%3C/svg%3E",
    "shortcut": "Ctrl + Shift + O",
    "title": "Toggle Outline"
  }
]