[
{
    "title":  "Toggle Outline",
    "icon":  "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 1200' fill='currentColor'%3E%3Cpath d='m900 264h-408c-17.148 0-32.996 9.1484-41.57 24-8.5742 14.852-8.5742 33.148 0 48 8.5742 14.852 24.422 24 41.57 24h408c17.148 0 32.996-9.1484 41.57-24 8.5742-14.852 8.5742-33.148 0-48-8.5742-14.852-24.422-24-41.57-24z'/%3E%3Cpath d='m900 456h-288c-17.148 0-32.996 9.1484-41.57 24-8.5742 14.852-8.5742 33.148 0 48 8.5742 14.852 24.422 24 41.57 24h288c17.148 0 32.996-9.1484 41.57-24 8.5742-14.852 8.5742-33.148 0-48-8.5742-14.852-24.422-24-41.57-24z'/%3E%3Cpath d='m468 504c0 26.508-21.492 48-48 48s-48-21.492-48-48 21.492-48 48-48 48 21.492 48 48z'/%3E%3Cpath d='m348 312c0 26.508-21.492 48-48 48s-48-21.492-48-48 21.492-48 48-48 48 21.492 48 48z'/%3E%3Cpath d='m900 648h-168c-17.148 0-32.996 9.1484-41.57 24-8.5742 14.852-8.5742 33.148 0 48 8.5742 14.852 24.422 24 41.57 24h168c17.148 0 32.996-9.1484 41.57-24 8.5742-14.852 8.5742-33.148 0-48-8.5742-14.852-24.422-24-41.57-24z'/%3E%3Cpath d='m588 696c0 26.508-21.492 48-48 48s-48-21.492-48-48 21.492-48 48-48 48 21.492 48 48z'/%3E%3Cpath d='m948 888c0-12.73-5.0586-24.938-14.059-33.941-9.0039-9-21.211-14.059-33.941-14.059h-408c-17.148 0-32.996 9.1484-41.57 24-8.5742 14.852-8.5742 33.148 0 48 8.5742 14.852 24.422 24 41.57 24h408c12.73 0 24.938-5.0586 33.941-14.059 9-9.0039 14.059-21.211 14.059-33.941z'/%3E%3Cpath d='m348 888c0 26.508-21.492 48-48 48s-48-21.492-48-48 21.492-48 48-48 48 21.492 48 48z'/%3E%3C/svg%3E",
    "code":  "(function(){ var existing = document.getElementById('lindy-toc'); if (existing) { if (existing.tagName === 'DETAILS') { existing.open = !existing.open; } else { existing.parentNode.removeChild(existing); } return; } var root = document.getElementById('readability-page-1'); if (!root) { root = document.querySelector('.page'); } if (!root) return; var headings = root.querySelectorAll('h2, h3, h4'); if (headings.length === 0) { var titleEl = document.getElementById('reader-title'); if (!titleEl) return; headings = [titleEl]; } var ol = document.createElement('ol'); for (var i = 0; i < headings.length; i++) { var h = headings[i]; if (!h.id) { h.id = 'lindy-heading-' + i; } var li = document.createElement('li'); li.setAttribute('data-level', h.tagName.charAt(1)); var a = document.createElement('a'); a.setAttribute('href', '#' + h.id); a.textContent = h.textContent.trim(); li.appendChild(a); ol.appendChild(li); } var details = document.createElement('details'); details.id = 'lindy-toc'; details.setAttribute('open', ''); var summary = document.createElement('summary'); summary.textContent = 'Outline'; details.appendChild(summary); var nav = document.createElement('nav'); nav.appendChild(ol); details.appendChild(nav); root.insertBefore(details, root.firstChild); details.addEventListener('click', function(e) { var a = e.target; if (a.tagName === 'A' && a.getAttribute('href') && a.getAttribute('href').charAt(0) === '#') { e.preventDefault(); var target = document.getElementById(a.getAttribute('href').slice(1)); if (target) { target.scrollIntoView({ behavior: 'smooth', block: 'start' }); } } }); var win = document.defaultView; if (win && win.IntersectionObserver) { var links = details.querySelectorAll('nav a'); var headingMap = {}; for (var k = 0; k < headings.length; k++) { headingMap[headings[k].id] = links[k]; } var lastLink = links[links.length - 1]; var observer = new win.IntersectionObserver(function(entries) { for (var ei = 0; ei < entries.length; ei++) { if (entries[ei].isIntersecting) { for (var m = 0; m < links.length; m++) { links[m].classList.remove('lindy-toc-active'); } var link = headingMap[entries[ei].target.id]; if (link) { link.classList.add('lindy-toc-active'); } } } }, { rootMargin: '0px 0px -80% 0px' }); for (var n = 0; n < headings.length; n++) { observer.observe(headings[n]); } if (win && lastLink) { var scrollEl = win.document.scrollingElement || win.document.documentElement; win.addEventListener('scroll', function() { var atBottom = scrollEl.scrollTop + win.innerHeight >= scrollEl.scrollHeight - 50; if (atBottom) { for (var m = 0; m < links.length; m++) { links[m].classList.remove('lindy-toc-active'); } lastLink.classList.add('lindy-toc-active'); } }, { passive: true }); } } })();"
}
]

